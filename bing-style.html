<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eliza Tang â€” Homepage (Preview)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@300;400;600&family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#000814; --bg2:#001d3d; --fg:#0ea5e9; --violet:#6366f1; --text-on-dark:rgba(255,255,255,.92); --mx:50%; --my:50%; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:var(--text-on-dark); background: radial-gradient(1200px 800px at 10% 90%, rgba(14,165,233,.12), transparent 60%), radial-gradient(1000px 700px at 90% 10%, rgba(99,102,241,.10), transparent 60%), linear-gradient(180deg, var(--bg), var(--bg2));}

    .orbs{position:fixed; inset:0; z-index:-1; overflow:hidden; pointer-events:none}
    .orb{position:absolute; width:42vw; height:42vw; border-radius:50%; filter:blur(50px); opacity:.18; background:radial-gradient(circle at 30% 30%, rgba(14,165,233,.9), rgba(14,165,233,0) 60%); mix-blend-mode:screen; animation:float 28s ease-in-out infinite;}
    .orb.v2{width:36vw; height:36vw; background:radial-gradient(circle at 60% 60%, rgba(99,102,241,.9), rgba(99,102,241,0) 60%); animation-duration:34s}
    .orb.v3{width:50vw; height:50vw; background:radial-gradient(circle at 40% 40%, rgba(56,189,248,.8), rgba(56,189,248,0) 60%); animation-duration:40s}
    @keyframes float{0%,100%{transform:translate(0,0)}50%{transform:translate(4vw,-3vw)}}

    .mouse-spot{position:fixed; inset:0; pointer-events:none; background:radial-gradient(600px 600px at var(--mx) var(--my), rgba(255,255,255,.10), transparent 60%)}

    .nav{position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(12px); -webkit-backdrop-filter:saturate(140%) blur(12px); border-bottom:1px solid rgba(255,255,255,.15);}
    .nav-inner{max-width:1140px; margin:0 auto; padding:.9rem 1rem; display:flex; align-items:center; justify-content:space-between}
    .brand{font-weight:800; letter-spacing:.5px; font-family:'Orbitron', monospace}
    .links{display:flex; align-items:center}
    .links a{color:var(--text-on-dark); text-decoration:none; margin-left:1rem; opacity:.85; position:relative; font-family:'JetBrains Mono', monospace; font-size:.9rem}
    .links a:hover{opacity:1}
    .links a::after{content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; background:linear-gradient(90deg, rgba(14,165,233,.8), rgba(99,102,241,.8)); transform:scaleX(0); transform-origin:left; transition:transform .25s ease}
    .links a:hover::after{transform:scaleX(1)}
    .lang-toggle{margin-left:1rem; padding:.4rem .6rem; border:1px solid rgba(255,255,255,.25); border-radius:10px; background:rgba(0,0,0,.25); color:#fff; cursor:pointer; font-family:'JetBrains Mono', monospace}

    /* Full-screen sections with smooth transitions */
    section{min-height:100vh; display:flex; flex-direction:column; justify-content:center; padding:0 1rem; position:relative; opacity:0; transform:translateY(30px); transition:all .8s cubic-bezier(0.4, 0, 0.2, 1)}
    section.in-view{opacity:1; transform:translateY(0)}
    .section-inner{max-width:1140px; margin:0 auto; width:100%; transform:translateY(20px); transition:transform .6s cubic-bezier(0.4, 0, 0.2, 1)}
    section.in-view .section-inner{transform:translateY(0)}

    .hero{min-height:100vh; display:flex; flex-direction:column; justify-content:center; padding:0 1rem}
    .hero-inner{max-width:1140px; margin:0 auto; display:grid; grid-template-columns: 260px 1fr; gap:2rem; align-items:center}
    .avatar{width:240px; height:240px; border-radius:50%; overflow:hidden; box-shadow:0 20px 60px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.12) inset}
    .avatar img{width:100%; height:100%; object-fit:cover}
    .hero h1{margin:0 0 .6rem 0; font-size:44px; line-height:1.05; font-family:'Orbitron', monospace; font-weight:800; background:linear-gradient(135deg, #0ea5e9, #6366f1); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text}
    .hero p{margin:.25rem 0; opacity:.9; font-family:'JetBrains Mono', monospace}
    .meta{margin-top:1rem; display:flex; gap:1rem; flex-wrap:wrap; opacity:.85}
    .social-links{margin-top:1rem; display:flex; gap:.8rem; align-items:center}
    .social-links a{display:flex; align-items:center; gap:.3rem; padding:.5rem .8rem; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); border-radius:8px; color:var(--text-on-dark); text-decoration:none; font-family:'JetBrains Mono', monospace; font-size:.85rem; transition:all .25s ease}
    .social-links a:hover{background:rgba(255,255,255,.12); transform:translateY(-1px); box-shadow:0 4px 12px rgba(0,0,0,.2)}
    .cv-btn{margin-top:1.5rem; display:inline-flex; align-items:center; gap:.5rem; padding:.8rem 1.2rem; background:linear-gradient(135deg, rgba(14,165,233,.9), rgba(99,102,241,.85)); border:1px solid rgba(255,255,255,.25); border-radius:12px; color:white; text-decoration:none; font-weight:500; transition:all .25s ease; font-family:'JetBrains Mono', monospace}
    .cv-btn:hover{transform:translateY(-2px); box-shadow:0 8px 25px rgba(14,165,233,.3)}

    /* Typewriter effect with cursor fade */
    .typewriter{overflow:hidden; border-right:2px solid #0ea5e9; white-space:nowrap; animation:typing 3s steps(40, end), blink-caret .75s step-end 4, hide-cursor 0s 3s forwards}
    @keyframes typing{from{width:0}to{width:100%}}
    @keyframes blink-caret{from,to{border-color:transparent}50%{border-color:#0ea5e9}}
    @keyframes hide-cursor{to{border-color:transparent; border-right:none}}

    section h2{font-size:28px; margin:0 0 1.2rem 0; font-family:'Orbitron', monospace; font-weight:600}
    .grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:1rem}
    .card{background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:1rem 1.1rem; box-shadow:0 10px 30px rgba(0,0,0,.25); opacity:0; transform:translateY(20px) scale(0.95); transition:all .6s cubic-bezier(0.4, 0, 0.2, 1); cursor:pointer; position:relative; overflow:hidden}
    .card::before{content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent); transition:left .6s ease}
    .card:hover{transform:translateY(-6px) scale(1.02); box-shadow:0 20px 50px rgba(0,0,0,.4); border-color:rgba(14,165,233,.5)}
    .card:hover::before{left:100%}
    .card.is-visible{opacity:1; transform:translateY(0) scale(1)}
    .card h3{margin:.2rem 0 .5rem 0; font-size:18px; font-family:'JetBrains Mono', monospace; font-weight:600}
    .card p{margin:0; opacity:.9; line-height:1.6}
    .list{display:grid; gap:.6rem}
    .list .item{background: rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:.8rem 1rem; opacity:0; transform:translateY(15px) scale(0.98); transition:all .5s cubic-bezier(0.4, 0, 0.2, 1); font-family:'JetBrains Mono', monospace; position:relative; overflow:hidden}
    .list .item::before{content:''; position:absolute; left:0; top:0; width:3px; height:100%; background:linear-gradient(180deg, #0ea5e9, #6366f1); transform:scaleY(0); transition:transform .3s ease}
    .list .item:hover{transform:translateY(-2px) scale(1.01); background:rgba(255,255,255,.08); border-color:rgba(14,165,233,.3)}
    .list .item:hover::before{transform:scaleY(1)}
    .list .item.is-visible{opacity:1; transform:translateY(0) scale(1)}

    /* Lifestyle grid */
    .lifestyle-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(300px,1fr)); gap:1.5rem}
    .lifestyle-card{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); border-radius:20px; padding:1.5rem; opacity:0; transform:translateY(20px) scale(0.95); transition:all .6s cubic-bezier(0.4, 0, 0.2, 1); cursor:pointer; position:relative; overflow:hidden}
    .lifestyle-card::before{content:''; position:absolute; top:0; left:0; right:0; height:3px; background:linear-gradient(90deg, #0ea5e9, #6366f1, #8b5cf6); transform:scaleX(0); transition:transform .4s ease}
    .lifestyle-card:hover{transform:translateY(-8px) scale(1.02); box-shadow:0 25px 60px rgba(0,0,0,.3); border-color:rgba(14,165,233,.4)}
    .lifestyle-card:hover::before{transform:scaleX(1)}
    .lifestyle-card.is-visible{opacity:1; transform:translateY(0) scale(1)}
    .lifestyle-card h3{margin:0 0 .8rem 0; font-size:20px; font-family:'Orbitron', monospace; font-weight:600; color:#0ea5e9}
    .lifestyle-card p{margin:0; opacity:.9; line-height:1.7; font-family:'JetBrains Mono', monospace}
    .lifestyle-card .emoji{font-size:2rem; margin-bottom:.5rem; display:block}

    .subscribe{max-width:900px; text-align:center; margin:0 auto}
    .sub-box{margin-top:1rem; display:flex; gap:.6rem; justify-content:center}
    .sub-box input{width:280px; padding:.75rem .9rem; border-radius:10px; border:1px solid rgba(255,255,255,.25); background:rgba(0,0,0,.25); color:var(--text-on-dark); font-family:'JetBrains Mono', monospace}
    .sub-box button{padding:.78rem 1.1rem; border-radius:10px; border:1px solid rgba(255,255,255,.25); background:linear-gradient(135deg, rgba(14,165,233,.9), rgba(99,102,241,.85)); color:white; cursor:pointer; font-family:'JetBrains Mono', monospace}
    .footer{max-width:1140px; margin:0 auto; padding:3rem 1rem 4rem 1rem; opacity:.7; text-align:center; font-family:'JetBrains Mono', monospace}

    /* Enhanced Scroll indicator */
    .scroll-indicator{position:fixed; right:2rem; top:50%; transform:translateY(-50%); z-index:40; display:flex; flex-direction:column; gap:.8rem; padding:1rem .5rem; background:rgba(0,0,0,.2); backdrop-filter:blur(10px); border-radius:20px; border:1px solid rgba(255,255,255,.1)}
    .scroll-dot{width:12px; height:12px; border-radius:50%; background:rgba(255,255,255,.2); transition:all .4s cubic-bezier(0.4, 0, 0.2, 1); cursor:pointer; position:relative; border:2px solid transparent}
    .scroll-dot::before{content:''; position:absolute; inset:-4px; border-radius:50%; background:linear-gradient(45deg, #0ea5e9, #6366f1); opacity:0; transition:opacity .3s ease; z-index:-1}
    .scroll-dot:hover{background:rgba(255,255,255,.4); transform:scale(1.2)}
    .scroll-dot.active{background:linear-gradient(45deg, #0ea5e9, #6366f1); transform:scale(1.4); box-shadow:0 0 20px rgba(14,165,233,.6)}
    .scroll-dot.active::before{opacity:1; animation:pulse 2s infinite}
    @keyframes pulse{0%,100%{transform:scale(1); opacity:0.7}50%{transform:scale(1.3); opacity:0.3}}

    @media (max-width: 860px){ 
      .hero-inner{grid-template-columns:1fr; text-align:center} 
      .avatar{margin:0 auto} 
      .meta{justify-content:center} 
      .social-links{justify-content:center}
      .links a{margin-left:.8rem}
      .scroll-indicator{right:1rem}
    }
  </style>
</head>
<body>
  <div class="orbs"><div class="orb" style="top:55%; left:-12%"></div><div class="orb v2" style="top:-8%; right:-14%"></div><div class="orb v3" style="bottom:-20%; left:30%"></div></div>
  <div class="mouse-spot"></div>

  <header class="nav">
    <div class="nav-inner">
      <div class="brand" data-i18n="brand">Eliza Tang</div>
      <nav class="links">
        <a href="#about" data-i18n="nav.about">About</a>
        <a href="#research" data-i18n="nav.research">Research</a>
        <a href="#highlights" data-i18n="nav.highlights">Highlights</a>
        <a href="#lifestyle" data-i18n="nav.lifestyle">Lifestyle</a>
        <a href="#news" data-i18n="nav.news">News</a>
        <a href="#talks" data-i18n="nav.talks">Talks</a>
        <a href="#edu" data-i18n="nav.edu">Education</a>
        <a href="#contact" data-i18n="nav.contact">Contact</a>
        <button class="lang-toggle" id="langToggle">ä¸­æ–‡</button>
      </nav>
    </div>
  </header>

  <div class="scroll-indicator" id="scrollIndicator"></div>

  <main>
    <section class="hero" id="about">
      <div class="hero-inner">
        <div class="avatar"><img src="images/profile.png" alt="Eliza avatar" /></div>
        <div>
          <h1 class="typewriter" data-i18n="hero.name">Eliza Yiting Tang</h1>
          <p data-i18n="hero.subtitle">University of Sydney Â· Econometrics & Software Development</p>
          <p data-i18n="hero.pitch">PhD applicant in Quantitative Marketing, Digital Platform Research, and Algorithmic Behavioral Modeling.</p>
          <div class="meta" id="metaTags"></div>
          <div class="social-links">
            <a href="mailto:tangyiting007@gmail.com">
              <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/></svg>
              Email
            </a>
            <a href="https://www.linkedin.com/in/yitingtang007/?locale=zh_CN" target="_blank">
              <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg>
              LinkedIn
            </a>
            <a href="https://scholar.google.com/citations?user=YOUR_GOOGLE_SCHOLAR_ID" target="_blank">
              <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
              Scholar
            </a>
            <a href="https://github.com/ElizaTang007" target="_blank">
              <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
              GitHub
            </a>
          </div>
          <a href="Eliza_Tang_CV.pdf" class="cv-btn" download>
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/></svg>
            <span data-i18n="hero.cv">Download CV</span>
          </a>
        </div>
      </div>
    </section>

    <section id="research">
      <div class="section-inner">
        <h2 data-i18n="research.title">Research Interests</h2>
        <div class="grid reveal" id="researchGrid"></div>
      </div>
    </section>

    <section id="highlights">
      <div class="section-inner">
        <h2 data-i18n="highlights.title">Highlights</h2>
        <div class="grid reveal" id="highlightsGrid"></div>
      </div>
    </section>

    <section id="lifestyle">
      <div class="section-inner">
        <h2 data-i18n="lifestyle.title">Lifestyle & Personality</h2>
        <div class="lifestyle-grid" id="lifestyleGrid"></div>
      </div>
    </section>

    <section id="news">
      <div class="section-inner">
        <h2 data-i18n="news.title">News</h2>
        <div class="list reveal" id="newsList"></div>
      </div>
    </section>

    <section id="dev">
      <div class="section-inner">
        <h2 data-i18n="dev.title">Under Development</h2>
        <div class="grid reveal" id="devGrid"></div>
      </div>
    </section>

    <section id="talks">
      <div class="section-inner">
        <h2 data-i18n="talks.title">Talks & Conferences</h2>
        <div class="list reveal" id="talksList"></div>
      </div>
    </section>

    <section id="edu">
      <div class="section-inner">
        <h2 data-i18n="edu.title">Education</h2>
        <div class="list reveal" id="eduList"></div>
        <h2 style="margin-top:1.6rem" data-i18n="intern.title">Internships</h2>
        <div class="list reveal" id="internList"></div>
      </div>
    </section>

    <section class="subscribe" id="contact">
      <div class="section-inner">
        <h2 data-i18n="contact.title">Stay in touch</h2>
        <p data-i18n="contact.desc">Interested in my research? Subscribe or email me.</p>
        <div class="sub-box">
          <input type="email" placeholder="Email Address" />
          <button type="button" id="subBtn" data-i18n="contact.btn">Subscribe</button>
        </div>
        <p style="margin-top:.8rem;opacity:.8" id="emailLine"></p>
      </div>
    </section>

    <footer class="footer" id="footerText">Â© 2025 Eliza Tang. All rights reserved.</footer>
  </main>

  <canvas id="particles" style="position:fixed; inset:0; z-index:-1; pointer-events:none"></canvas>

  <script>
    // Mouse spotlight
    window.addEventListener('mousemove', (e)=>{ document.documentElement.style.setProperty('--mx', e.clientX + 'px'); document.documentElement.style.setProperty('--my', e.clientY + 'px'); });

    // Enhanced scroll reveal with section animations
    const sectionObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.classList.add('in-view');
          entry.target.querySelectorAll('.card, .item').forEach((el,i)=>{
            setTimeout(()=>el.classList.add('is-visible'), i*80);
          });
        }
      });
    }, {threshold:.2, rootMargin:'-50px'});

    const cardObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.classList.add('is-visible');
        }
      });
    }, {threshold:.1});

    // Particles
    const canvas = document.getElementById('particles'); const ctx = canvas.getContext('2d'); let w,h,dpr; const particles=[];
    function resize(){ dpr=Math.min(devicePixelRatio||1,2); w=canvas.width=Math.floor(innerWidth*dpr); h=canvas.height=Math.floor(innerHeight*dpr); canvas.style.width=innerWidth+'px'; canvas.style.height=innerHeight+'px'; }
    function spawn(n=60){ particles.length=0; for(let i=0;i<n;i++){ particles.push({ x:Math.random()*w, y:Math.random()*h, r:Math.random()*2*dpr+.5, a:Math.random()*Math.PI*2, s:.2+Math.random()*.6 }); } }
    function tick(){ ctx.clearRect(0,0,w,h); for(const p of particles){ p.x+=Math.cos(p.a)*p.s; p.y+=Math.sin(p.a)*p.s; if(p.x<0)p.x=w; if(p.x>w)p.x=0; if(p.y<0)p.y=h; if(p.y>h)p.y=0; ctx.beginPath(); const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*3); g.addColorStop(0,'rgba(125,211,252,.35)'); g.addColorStop(1,'rgba(125,211,252,0)'); ctx.fillStyle=g; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); } requestAnimationFrame(tick); }

    // Scroll indicator
    const sections = document.querySelectorAll('section');
    const scrollIndicator = document.getElementById('scrollIndicator');
    sections.forEach((_, i) => {
      const dot = document.createElement('div');
      dot.className = 'scroll-dot';
      dot.addEventListener('click', () => sections[i].scrollIntoView({behavior: 'smooth'}));
      scrollIndicator.appendChild(dot);
    });

    // Enhanced scroll indicator with stable detection
    function updateScrollIndicator() {
      const dots = document.querySelectorAll('.scroll-dot');
      const scrollPos = window.scrollY;
      const windowHeight = window.innerHeight;
      let activeIndex = 0;
      
      sections.forEach((section, i) => {
        const rect = section.getBoundingClientRect();
        const sectionTop = rect.top;
        const sectionBottom = rect.bottom;
        
        // More stable detection: section is active if it's more than 50% visible
        if (sectionTop < windowHeight * 0.5 && sectionBottom > windowHeight * 0.5) {
          activeIndex = i;
        }
      });
      
      dots.forEach((dot, i) => {
        const wasActive = dot.classList.contains('active');
        const isActive = i === activeIndex;
        
        if (isActive && !wasActive) {
          dot.classList.add('active');
          dot.style.transform = 'scale(1.4)';
        } else if (!isActive && wasActive) {
          dot.classList.remove('active');
          dot.style.transform = 'scale(1)';
        }
      });
    }

    // Smooth scroll for nav links
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) target.scrollIntoView({behavior: 'smooth'});
      });
    });

    // Card click handlers
    function addCardHandlers() {
      document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', () => {
          // Add your detail page links here
          const title = card.querySelector('h3')?.textContent;
          if (title?.includes('Preference Externalities')) {
            window.open('research/preference-externalities.html', '_blank');
          } else if (title?.includes('Retention Causality')) {
            window.open('research/retention-causality.html', '_blank');
          } else if (title?.includes('EvoNet')) {
            window.open('research/evonet-behavior.html', '_blank');
          } else if (title?.includes('UAM Adoption')) {
            window.open('research/uam-adoption.html', '_blank');
          } else if (title?.includes('Returns to Education')) {
            window.open('ecmt3997.pdf', '_blank');
          }
        });
      });
    }

    // i18n content
    const i18n = {
      en: {
        brand: 'Eliza Tang',
        nav: {about:'About', research:'Research', highlights:'Highlights', lifestyle:'Lifestyle', news:'News', talks:'Talks', edu:'Education', contact:'Contact'},
        hero: {
          name:'Eliza Yiting Tang',
          subtitle:'University of Sydney Â· Econometrics & Software Development',
          pitch:'PhD applicant in Quantitative Marketing, Digital Platform Research, and Algorithmic Behavioral Modeling.',
          tags:['AI & ML','Data Science','NLP','Computer Vision','UAM / eVTOL','ESG'],
          cv:'Download CV'
        },
        research: { title:'Research & Innovation', items:[
          {t:'Preference Externalities', d:'Modeling willingness-to-pay shifts under social information on digital platforms. Developing causal frameworks for peer influence mechanisms.'},
          {t:'Retention Causality', d:'Causal evaluation of user retention interventions under regulatory and policy shocks. Using ML for heterogeneous treatment effects.'},
          {t:'EvoNet for Behavior', d:'Expressive neural architectures to capture adaptive behavior pathways with heterogeneous learning dynamics in digital environments.'},
          {t:'UAM Adoption', d:'Identity formation and incentive design for eVTOL platform adoption in emerging markets. Building scalable mobility solutions.'}
        ]},
        highlights: { title:'Professional Identity', items:[
          {t:'ğŸ§  Quant Researcher', d:'Causal inference Â· Behavioral modeling Â· Platform design â€” ongoing research on digital platforms; Data Analyst @Google Â· RA @Penn State.'},
          {t:'ğŸŒ¿ Sustainability Strategist', d:'Green incentives Â· ESG mechanisms Â· Platform policy â€” eVTOL adoption & sustainable pricing; SDG @UN AU 2024; Presenter @IAMCR.'},
          {t:'ğŸš€ UAM Entrepreneur', d:'Coâ€‘founder @YITA AVIATION â€” eVTOL platform design; lowâ€‘altitude mobility infrastructure; techâ€‘policy & urban air innovation.'}
        ]},
        lifestyle: { title:'Lifestyle & Personality', items:[
          {t:'ğŸ¯ Visionary Thinker', d:'Passionate about solving complex problems at the intersection of technology, economics, and human behavior. Always exploring the next frontier of innovation.'},
          {t:'ğŸŒ Global Citizen', d:'Lived and worked across Sydney, Shanghai, and international conferences. Embracing diverse perspectives and building bridges between cultures.'},
          {t:'ğŸ’¡ Creative Problem Solver', d:'Combines analytical rigor with creative thinking. Enjoys turning abstract concepts into practical solutions that make real impact.'},
          {t:'ğŸš€ Future Builder', d:'Not just studying the future, but actively building it. From UAM platforms to sustainable tech solutions, creating tomorrow\'s infrastructure today.'}
        ]},
        news: { title:'Latest Updates', items:[
          '2025.05 Â· Submitted paper on LLMâ€‘powered causal modeling for user retention to INFORMS 2025.',
          '2025.03 Â· Invited to the Avalon International Airshow to explore UAM platforms.',
          '2024.11 Â· Invited to the Sustainable Development Goals Dinner (UNAA).',
          '2024.03 Â· Causal modeling for retention accepted at ICEMGD.'
        ]},
        dev: { title:'Current Projects', items:[
          {t:'Returns to Education â€” A Causal Analysis Using IV', d:'ECMT3997 Thesis, University of Sydney Â· PDF: <a href="ecmt3997.pdf" style="color:#7dd3fc">View</a><br/>Implements Card (1993) with proximityâ€‘toâ€‘college as instrument; 2SLS estimation, LATE interpretation, and instrument strength using Australian microdata.'}
        ]},
        talks: { title:'Talks & Conferences', items:[
          'Atlanta, USA Â· Oct 2025 â€” INFORMS 2025 â€” Causal Modeling of User Retention with LLMs (solo author).',
          'Edinburgh, UK Â· Jun 2024 â€” ICEMGD 2024 â€” Deep Learning for Highâ€‘Frequency Stock Prediction.',
          'Lyon, France Â· Jul 2023 â€” IAMCR 2023 â€” Examining the Communication Effectiveness of AI Art Personification.'
        ]},
        edu: { title:'Education', items:[ '2023â€“2026 Â· BA in Econometrics and Software Development Â· University of Sydney' ] },
        intern: { title:'Internships', items:[
          '2024.12â€“2025.02 Â· Google â€” Data Analyst Intern',
          '2023.12â€“2024.01 Â· Meritco â€” AI Investment Research Intern',
          '2022.12â€“2023.01 Â· VMLY&R â€” Account Executive Intern (Merck, J&J)'
        ]},
        contact: { title:'Let\'s Connect', desc:'Interested in collaboration, research opportunities, or investment? Let\'s discuss how we can work together.', btn:'Subscribe', email:'Or email: <a href="mailto:tangyiting007@gmail.com" style="color:#7dd3fc">tangyiting007@gmail.com</a>' },
        footer:'Â© 2025 Eliza Tang. All rights reserved.'
      },
      zh: {
        brand: 'å”æ€¡å©· Eliza',
        nav: {about:'å…³äº', research:'ç ”ç©¶', highlights:'äº®ç‚¹', lifestyle:'ç”Ÿæ´»', news:'åŠ¨æ€', talks:'æ¼”è®²', edu:'æ•™è‚²', contact:'è”ç³»'},
        hero: {
          name:'å”æ€¡å©·ï¼ˆEliza Yiting Tangï¼‰',
          subtitle:'æ‚‰å°¼å¤§å­¦ Â· è®¡é‡ç»æµå­¦ä¸è½¯ä»¶å¼€å‘',
          pitch:'åšå£«ç”³è¯·æ–¹å‘ï¼šé‡åŒ–è¥é”€ã€æ•°å­—å¹³å°ç ”ç©¶ã€ç®—æ³•è¡Œä¸ºå»ºæ¨¡ã€‚',
          tags:['äººå·¥æ™ºèƒ½','æ•°æ®ç§‘å­¦','è‡ªç„¶è¯­è¨€å¤„ç†','è®¡ç®—æœºè§†è§‰','UAM / eVTOL','ESG'],
          cv:'ä¸‹è½½ç®€å†'
        },
        research: { title:'ç ”ç©¶ä¸åˆ›æ–°', items:[
          {t:'åå¥½å¤–éƒ¨æ€§', d:'åœ¨æ•°å­—å¹³å°çš„ç¤¾ä¼šä¿¡æ¯çº¿ç´¢ä¸‹ï¼Œå»ºæ¨¡æ”¯ä»˜æ„æ„¿è¿ç§»ä¸è¡Œä¸ºè°ƒæ•´ã€‚å¼€å‘åŒä¼´å½±å“æœºåˆ¶çš„å› æœæ¡†æ¶ã€‚'},
          {t:'ç•™å­˜å› æœ', d:'åœ¨ç›‘ç®¡/æ”¿ç­–å†²å‡»ä¸‹è¯„ä¼°ç•™å­˜å¹²é¢„çš„å› æœæ•ˆæœä¸å¼‚è´¨æ€§ã€‚ä½¿ç”¨æœºå™¨å­¦ä¹ åˆ†æå¼‚è´¨å¤„ç†æ•ˆåº”ã€‚'},
          {t:'EvoNet è¡Œä¸ºå»ºæ¨¡', d:'å¯è¡¨è¾¾ç¥ç»ç»“æ„åˆ»ç”»æ•°å­—ç¯å¢ƒä¸­å¼‚è´¨å­¦ä¹ åŠ¨æ€çš„é€‚åº”æ€§è¡Œä¸ºè·¯å¾„ã€‚'},
          {t:'UAM é‡‡çº³', d:'æ–°å…´å¸‚åœº eVTOL å¹³å°é‡‡çº³çš„èº«ä»½å½¢æˆä¸æ¿€åŠ±è®¾è®¡ã€‚æ„å»ºå¯æ‰©å±•çš„å‡ºè¡Œè§£å†³æ–¹æ¡ˆã€‚'}
        ]},
        highlights: { title:'ä¸“ä¸šèº«ä»½', items:[
          {t:'ğŸ§  é‡åŒ–ç ”ç©¶è€…', d:'å› æœæ¨æ–­ Â· è¡Œä¸ºå»ºæ¨¡ Â· å¹³å°è®¾è®¡ï¼›æŒç»­å¼€å±•å¹³å°ç ”ç©¶ï¼›æ›¾ä»» Google æ•°æ®åˆ†æå®ä¹ ã€å®¾å·å·ç«‹å¤§å­¦ RAã€‚'},
          {t:'ğŸŒ¿ å¯æŒç»­ç­–ç•¥', d:'ç»¿è‰²æ¿€åŠ± Â· ESG æœºåˆ¶ Â· å¹³å°æ”¿ç­–ï¼›eVTOL é‡‡çº³ä¸å¯æŒç»­å®šä»·ï¼›è”åˆå›½æ¾³æ´² SDGã€IAMCR æ¼”è®²è€…ã€‚'},
          {t:'ğŸš€ UAM åˆ›ä¸šè€…', d:'YITA AVIATION è”åˆåˆ›å§‹äººï¼›eVTOL å¹³å°è®¾è®¡ä¸ä½ç©ºå‡ºè¡ŒåŸºç¡€è®¾æ–½ï¼›ç§‘æŠ€æ”¿ç­–ä¸åŸå¸‚ç©ºä¸­åˆ›æ–°ã€‚'}
        ]},
        lifestyle: { title:'ç”Ÿæ´»ä¸ä¸ªæ€§', items:[
          {t:'ğŸ¯ è¿œè§æ€è€ƒè€…', d:'çƒ­è¡·äºè§£å†³æŠ€æœ¯ã€ç»æµå­¦å’Œäººç±»è¡Œä¸ºäº¤å‰é¢†åŸŸçš„å¤æ‚é—®é¢˜ã€‚å§‹ç»ˆæ¢ç´¢åˆ›æ–°çš„å‰æ²¿é¢†åŸŸã€‚'},
          {t:'ğŸŒ å…¨çƒå…¬æ°‘', d:'åœ¨æ‚‰å°¼ã€ä¸Šæµ·å’Œå›½é™…ä¼šè®®é—´ç”Ÿæ´»å·¥ä½œã€‚æ‹¥æŠ±å¤šå…ƒè§†è§’ï¼Œæ­å»ºæ–‡åŒ–æ¡¥æ¢ã€‚'},
          {t:'ğŸ’¡ åˆ›æ„é—®é¢˜è§£å†³è€…', d:'ç»“åˆåˆ†æä¸¥è°¨æ€§ä¸åˆ›é€ æ€§æ€ç»´ã€‚äº«å—å°†æŠ½è±¡æ¦‚å¿µè½¬åŒ–ä¸ºäº§ç”Ÿå®é™…å½±å“çš„å®ç”¨è§£å†³æ–¹æ¡ˆã€‚'},
          {t:'ğŸš€ æœªæ¥å»ºè®¾è€…', d:'ä¸ä»…ç ”ç©¶æœªæ¥ï¼Œæ›´ç§¯æå»ºè®¾æœªæ¥ã€‚ä» UAM å¹³å°åˆ°å¯æŒç»­æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œä»Šå¤©å°±åœ¨åˆ›é€ æ˜å¤©çš„åŸºç¡€è®¾æ–½ã€‚'}
        ]},
        news: { title:'æœ€æ–°åŠ¨æ€', items:[
          '2025.05 Â· æäº¤ LLM é©±åŠ¨çš„ç”¨æˆ·ç•™å­˜å› æœå»ºæ¨¡è®ºæ–‡è‡³ INFORMS 2025ã€‚',
          '2025.03 Â· å—é‚€å‚åŠ  Avalon èˆªå±•ï¼Œæ¢ç´¢ UAM å¹³å°ã€‚',
          '2024.11 Â· å—é‚€å‡ºå¸­è”åˆå›½æ¾³å¤§åˆ©äºšåä¼š SDG æ™šå®´ã€‚',
          '2024.03 Â· ç•™å­˜å› æœå»ºæ¨¡è®ºæ–‡è¢« ICEMGD æ¥æ”¶ã€‚'
        ]},
        dev: { title:'å½“å‰é¡¹ç›®', items:[
          {t:'æ•™è‚²å›æŠ¥çš„å› æœåˆ†æï¼ˆå·¥å…·å˜é‡ï¼‰', d:'ECMT3997 æ¯•è®¾ Â· PDFï¼š<a href="ecmt3997.pdf" style="color:#7dd3fc">æŸ¥çœ‹</a><br/>åŸºäº Card (1993) çš„è¿‘æ ¡å·¥å…·å˜é‡æ¡†æ¶ï¼Œå®æ–½ 2SLSã€è§£é‡Š LATEï¼Œå¹¶ä½¿ç”¨æ¾³å¤§åˆ©äºšå¾®è§‚æ•°æ®æ£€éªŒå·¥å…·å˜é‡å¼ºåº¦ã€‚'}
        ]},
        talks: { title:'å­¦æœ¯æ¼”è®²', items:[
          'ç¾å›½äºšç‰¹å…°å¤§ Â· 2025/10 â€” INFORMS 2025 Â· LLM ç•™å­˜å› æœå»ºæ¨¡ï¼ˆç‹¬ç«‹ä½œè€…ï¼‰ã€‚',
          'è‹±å›½çˆ±ä¸å ¡ Â· 2024/06 â€” ICEMGD 2024 Â· é«˜é¢‘è‚¡ç¥¨é¢„æµ‹æ·±åº¦å­¦ä¹ ã€‚',
          'æ³•å›½é‡Œæ˜‚ Â· 2023/07 â€” IAMCR 2023 Â· AI è‰ºæœ¯æ‹ŸäººåŒ–ä¼ æ’­æ•ˆæœã€‚'
        ]},
        edu: { title:'æ•™è‚²ç»å†', items:[ '2023â€“2026 Â· æ‚‰å°¼å¤§å­¦ Â· è®¡é‡ç»æµå­¦ä¸è½¯ä»¶å¼€å‘ æœ¬ç§‘' ] },
        intern: { title:'å®ä¹ ç»å†', items:[
          '2024.12â€“2025.02 Â· Google Â· æ•°æ®åˆ†æå®ä¹ ',
          '2023.12â€“2024.01 Â· Meritco Â· AI æŠ•èµ„ç ”ç©¶å®ä¹ ',
          '2022.12â€“2023.01 Â· VMLY&R Â· å®¢æˆ·æ‰§è¡Œå®ä¹ ï¼ˆé»˜æ²™ä¸œã€å¼ºç”Ÿï¼‰'
        ]},
        contact: { title:'è®©æˆ‘ä»¬è¿æ¥', desc:'å¯¹åˆä½œã€ç ”ç©¶æœºä¼šæˆ–æŠ•èµ„æ„Ÿå…´è¶£ï¼Ÿè®©æˆ‘ä»¬è®¨è®ºå¦‚ä½•ä¸€èµ·å·¥ä½œã€‚', btn:'è®¢é˜…', email:'æˆ–å‘é€é‚®ä»¶ï¼š<a href="mailto:tangyiting007@gmail.com" style="color:#7dd3fc">tangyiting007@gmail.com</a>' },
        footer:'Â© 2025 å”æ€¡å©·ï¼ˆEliza Tangï¼‰ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚'
      }
    };

    let lang = 'en';
    function render(){
      const t = i18n[lang];
      document.documentElement.lang = lang === 'en' ? 'en' : 'zh-CN';
      // simple text
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const path = el.getAttribute('data-i18n').split('.');
        let cur = t; for(const k of path){ cur = cur?.[k]; }
        if(typeof cur === 'string') el.innerHTML = cur;
      });
      // meta tags
      const meta = document.getElementById('metaTags');
      meta.innerHTML = t.hero.tags.map(x=>`<span>${x}</span>`).join('');
      // research cards
      const r = document.getElementById('researchGrid');
      r.innerHTML = t.research.items.map(i=>`<div class="card"><h3>${i.t}</h3><p>${i.d}</p></div>`).join('');
      // highlights
      const h = document.getElementById('highlightsGrid');
      h.innerHTML = t.highlights.items.map(i=>`<div class="card"><h3>${i.t}</h3><p>${i.d}</p></div>`).join('');
      // lifestyle
      const l = document.getElementById('lifestyleGrid');
      l.innerHTML = t.lifestyle.items.map(i=>`<div class="lifestyle-card"><div class="emoji">${i.t.split(' ')[0]}</div><h3>${i.t.split(' ').slice(1).join(' ')}</h3><p>${i.d}</p></div>`).join('');
      // news
      const n = document.getElementById('newsList');
      n.innerHTML = t.news.items.map(i=>`<div class="item">${i}</div>`).join('');
      // dev
      const d = document.getElementById('devGrid');
      d.innerHTML = t.dev.items.map(i=>`<div class="card"><h3>${i.t}</h3><p>${i.d}</p></div>`).join('');
      // talks
      const tl = document.getElementById('talksList');
      tl.innerHTML = t.talks.items.map(i=>`<div class="item">${i}</div>`).join('');
      // edu
      const el = document.getElementById('eduList');
      el.innerHTML = t.edu.items.map(i=>`<div class="item">${i}</div>`).join('');
      // intern
      const il = document.getElementById('internList');
      il.innerHTML = t.intern.items.map(i=>`<div class="item">${i}</div>`).join('');
      // contact email line & footer
      document.getElementById('emailLine').innerHTML = t.contact.email;
      document.getElementById('footerText').innerHTML = t.footer;

      // hook up enhanced observers
      document.querySelectorAll('section').forEach(el => sectionObserver.observe(el));
      document.querySelectorAll('.card, .item, .lifestyle-card').forEach(el => cardObserver.observe(el));
      setTimeout(addCardHandlers, 100);
      // button text
      document.getElementById('langToggle').textContent = lang === 'en' ? 'ä¸­æ–‡' : 'EN';
    }

    document.getElementById('langToggle').addEventListener('click', ()=>{ lang = (lang === 'en') ? 'zh' : 'en'; render(); });

    // init with enhanced scroll handling
    resize(); spawn(); tick(); addEventListener('resize', ()=>{resize(); spawn();}); 
    window.addEventListener('scroll', () => {
      requestAnimationFrame(updateScrollIndicator);
    });
    render();
    updateScrollIndicator();
  </script>
</body>
</html> 